import os
import random
import threading
from http.server import BaseHTTPRequestHandler, HTTPServer
from telegram import Update
from telegram.ext import ApplicationBuilder, MessageHandler, CommandHandler, filters, ContextTypes

# -------------------------------
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
# -------------------------------
TARGET_USERNAMES = ["Habib471"]       # –†–æ–º–∞–Ω—Ç–∏–∫–∞
NEGATIVE_USERNAMES = ["vkhich1ro"]    # –ù–µ–≥–∞—Ç–∏–≤

# -------------------------------
# 100 —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—Ä–∞–∑ üíû
# -------------------------------
LOVE_PHRASES = [
    "–¢—ã ‚Äî –º–æ—ë –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –Ω–µ–∂–Ω–æ–µ –∫–∞–∫ –¥—ã—Ö–∞–Ω–∏–µ –≤–µ—Å–Ω—ã üå∑",
    "–° —Ç–æ–±–æ–π –≤—Å—ë –≤–æ–∫—Ä—É–≥ –Ω–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–º—ã—Å–ª–æ–º üí´",
    "–¢—ã ‚Äî –º–æ—è –º–µ–ª–æ–¥–∏—è —Å—á–∞—Å—Ç—å—è, —Ç–∏—Ö–∞—è –∏ –≤–µ—á–Ω–∞—è üé∂",
    "–í –∫–∞–∂–¥–æ–º –ª—É—á–µ —Å–æ–ª–Ω—Ü–∞ —è –≤–∏–∂—É —Ç–≤–æ–π —Å–≤–µ—Ç ‚òÄÔ∏è",
    "–¢—ã ‚Äî —à—ë–ø–æ—Ç –Ω–µ–∂–Ω–æ—Å—Ç–∏ –≤ —à—É–º–µ –º–∏—Ä–∞ üå∏",
    "–ö–∞–∂–¥–∞—è –º—ã—Å–ª—å –æ —Ç–µ–±–µ ‚Äî –∫–∞–∫ —É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–∞—Å—Å–≤–µ—Ç üåÖ",
    "–° —Ç–æ–±–æ–π –¥–∞–∂–µ —Ç–∏—à–∏–Ω–∞ –∑–≤—É—á–∏—Ç –ø—Ä–µ–∫—Ä–∞—Å–Ω–µ–µ üíû",
    "–¢—ã ‚Äî –¥—ã—Ö–∞–Ω–∏–µ —Å–≤–µ—Ç–∞ –≤ –º–æ—ë–º —Å–µ—Ä–¥—Ü–µ ‚ú®",
    "–í —Ç–≤–æ–∏—Ö –≥–ª–∞–∑–∞—Ö —Å–ø—Ä—è—Ç–∞–Ω–æ –Ω–µ–±–æ –∏ —Ç–µ–ø–ª–æ üåå",
    "–¢—ã ‚Äî –º–µ—á—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è —Å—Ç–∞–ª–∞ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é üíó",
    "–° —Ç–æ–±–æ–π –¥–∞–∂–µ –≤–µ—Ç–µ—Ä –¥—ã—à–∏—Ç –ª—é–±–æ–≤—å—é üå¨Ô∏è",
    "–¢—ã ‚Äî –ø—Ä–∏—á–∏–Ω–∞ —É–ª—ã–±–∞—Ç—å—Å—è –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã üíï",
    "–¢–≤–æ—ë –∏–º—è –∑–≤—É—á–∏—Ç –∫–∞–∫ –Ω–µ–∂–Ω–∞—è –ø–µ—Å–Ω—è üíñ",
    "–¢—ã ‚Äî —Å–≤–µ—Ç–ª–∞—è –º—ã—Å–ª—å –≤–æ –≤—Å–µ—Ö –º–æ–∏—Ö –¥–Ω—è—Ö üå§Ô∏è",
    "–ö–æ–≥–¥–∞ —Ç—ã —Ä—è–¥–æ–º, –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Ç–µ—Ä—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ üå∫",
    "–¢—ã ‚Äî –º–æ–π –¥–æ–º, –≥–¥–µ –ø–æ–∫–æ–π –∏ —Ç–µ–ø–ª–æ üïäÔ∏è",
    "–ö–∞–∂–¥–∞—è –≤—Å—Ç—Ä–µ—á–∞ —Å —Ç–æ–±–æ–π ‚Äî –º–∞–ª–µ–Ω—å–∫–æ–µ —á—É–¥–æ ‚ú®",
    "–¢—ã ‚Äî —É—Ç—Ä–µ–Ω–Ω–∏–π –ª—É—á –≤ –º–æ—ë–º —Å–µ—Ä–¥—Ü–µ üåû",
    "–° —Ç–æ–±–æ–π –¥–∞–∂–µ –∑–≤—ë–∑–¥—ã —Å–∏—è—é—Ç —è—Ä—á–µ üåü",
    "–¢—ã ‚Äî –∫–∞–ø–ª—è –ª—é–±–≤–∏ –≤ –æ–∫–µ–∞–Ω–µ –∂–∏–∑–Ω–∏ üíß",
    "–¢—ã ‚Äî –≤–¥–æ—Ö, –±–µ–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –¥—ã—à—É üí´",
    "–í —Ç–≤–æ–∏—Ö –≥–ª–∞–∑–∞—Ö ‚Äî —Ü–µ–ª–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è –Ω–µ–∂–Ω–æ—Å—Ç–∏ üåå",
    "–¢—ã ‚Äî —Å–ª–æ–≤–æ ‚Äò—Å—á–∞—Å—Ç—å–µ‚Äô, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–µ —Å–≤–µ—Ç–æ–º üíï",
    "–¢—ã ‚Äî –º–æ–π —è–∫–æ—Ä—å –∏ –º–æ–π –ø–æ–ª—ë—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ üíû",
    "–¢—ã ‚Äî –º–æ–π —É—é—Ç –¥–∞–∂–µ –≤ —Å–∞–º—ã—Ö —Ö–æ–ª–æ–¥–Ω—ã—Ö –¥–Ω—è—Ö ‚ùÑÔ∏è",
    "–¢–≤–æ—ë –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –º–∏—Ä –º—è–≥—á–µ üå∏",
    "–¢—ã ‚Äî —É–ª—ã–±–∫–∞ —Å—É–¥—å–±—ã, –∫–æ—Ç–æ—Ä—É—é —è –Ω–µ —Ö–æ—á—É —Ç–µ—Ä—è—Ç—å üí´",
    "–¢—ã ‚Äî –∞—Ä–æ–º–∞—Ç –≤–µ—Å–Ω—ã –≤ –º–æ–∏—Ö –º—ã—Å–ª—è—Ö üåº",
    "–° —Ç–æ–±–æ–π –º–∏—Ä –æ–±—Ä–µ—Ç–∞–µ—Ç —Ä–∏—Ñ–º—É –∏ –º—É–∑—ã–∫—É üéµ",
    "–¢—ã ‚Äî –º–æ–π –ª—É—á–∏–∫ –≤ –º–∏—Ä–µ —Å—É–º—Ä–∞–∫–æ–≤ üåô",
    "–¢—ã ‚Äî –Ω–µ–∂–Ω–æ—Å—Ç—å, –æ–±—Ä–µ—Ç—à–∞—è —Ñ–æ—Ä–º—É üíó",
    "–ö–∞–∂–¥–æ–µ —É—Ç—Ä–æ —Å —Ç–æ–±–æ–π ‚Äî –ø—Ä–∞–∑–¥–Ω–∏–∫ –¥—É—à–∏ üåÖ",
    "–¢—ã ‚Äî —Ç–µ–ø–ª–æ, —á—Ç–æ –Ω–µ —É—Ö–æ–¥–∏—Ç –¥–∞–∂–µ –∑–∏–º–æ–π üî•",
    "–¢—ã ‚Äî –º–æ–π —Å–º—ã—Å–ª –∏ –º–æ—è –ø—Ä–æ—Å—Ç–∞—è —Ä–∞–¥–æ—Å—Ç—å üíû",
    "–° —Ç–æ–±–æ–π –¥–∞–∂–µ –¥–æ–∂–¥—å –ø–æ—ë—Ç –æ –ª—é–±–≤–∏ üåßÔ∏è",
    "–¢—ã ‚Äî –º–≥–Ω–æ–≤–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ—á–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä—è—Ç—å üíñ",
    "–¢—ã ‚Äî —Å–ª–∞–¥–∫–∏–π —Å–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ö–æ—á–µ—Ç—Å—è –ø—Ä–µ—Ä—ã–≤–∞—Ç—å üåô",
    "–¢—ã ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ üí´",
    "–¢—ã ‚Äî –º–æ–π –º–∞—è–∫ –≤ –æ–∫–µ–∞–Ω–µ —á—É–≤—Å—Ç–≤ üåä",
    "–¢—ã ‚Äî –º—è–≥–∫–∏–π —Å–≤–µ—Ç, —á—Ç–æ –≤–µ–¥—ë—Ç —Å–∫–≤–æ–∑—å —Ç—å–º—É üå†",
    "–¢—ã ‚Äî —á—É–¥–æ, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –Ω–µ –ø–µ—Ä–µ—Å—Ç–∞—é —Ç—è–Ω—É—Ç—å—Å—è üíó",
    "–¢—ã ‚Äî –¥—ã—Ö–∞–Ω–∏–µ —Ä–∞–¥–æ—Å—Ç–∏ –≤ –∫–∞–∂–¥–æ–º –¥–Ω–µ üíï",
    "–¢—ã ‚Äî –æ—Ç–∫–ª–∏–∫ —Å–µ—Ä–¥—Ü–∞ –Ω–∞ –∑–æ–≤ –ª—é–±–≤–∏ üíå",
    "–¢—ã ‚Äî –Ω–µ–∂–Ω—ã–π –æ–≥–æ–Ω—å –≤ —Ö–æ–ª–æ–¥–Ω–æ–º –º–∏—Ä–µ üî•",
    "–° —Ç–æ–±–æ–π –¥–∞–∂–µ –º–æ–ª—á–∞–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å—Ç–∏—Ö–æ–º üå∏",
    "–¢—ã ‚Äî –º–æ—è —Å–∞–º–∞—è –∫—Ä–∞—Å–∏–≤–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å üí´",
    "–¢—ã ‚Äî —Å–≤–µ—Ç –≤ –∫–∞–∂–¥–æ–º –≤–∑–≥–ª—è–¥–µ üíñ",
    "–¢—ã ‚Äî —É—Ç—Ä–æ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ —Ö–æ—á–µ—Ç—Å—è –æ—Ç–ø—É—Å–∫–∞—Ç—å üåÖ",
    "–¢—ã ‚Äî –ø—Ä–∏—á–∏–Ω–∞ –º–æ–µ–≥–æ –≤–¥–æ—Ö–∞ –∏ —É–ª—ã–±–∫–∏ üíû",
    "–° —Ç–æ–±–æ–π –≤—Å—ë –ø—Ä–æ—Å—Ç–æ –∏ –≤—Å—ë –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É ‚òÄÔ∏è",
    "–¢—ã ‚Äî –º–æ–π —Å—Ç–∏—Ö, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –∑–≤—ë–∑–¥–∞–º–∏ üå†",
    "–¢—ã ‚Äî –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏–µ —Å–≤–µ—Ç–∞ –∫ –¥—É—à–µ üí´",
    "–¢—ã ‚Äî –ø–µ—Å–Ω—è, —á—Ç–æ –∑–≤—É—á–∏—Ç –±–µ–∑ —Å–ª–æ–≤ üé∂",
    "–¢—ã ‚Äî –¥—ã—Ö–∞–Ω–∏–µ —Ç–µ–ø–ª–∞ –≤ –º–æ—ë–º —Å–µ—Ä–¥—Ü–µ üíó",
    "–¢—ã ‚Äî —É–ª—ã–±–∫–∞, –∑–∞ –∫–æ—Ç–æ—Ä–æ–π —Å–∫—Ä—ã—Ç–æ —Å–æ–ª–Ω—Ü–µ ‚òÄÔ∏è",
    "–¢—ã ‚Äî –º–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–∫–æ–π üåô",
    "–¢—ã ‚Äî –∫–∞–∫ –ª–µ—Ç–æ –≤ —Å–µ—Ä–¥—Ü–µ –∑–∏–º–æ–π üå∫",
    "–¢—ã ‚Äî —Å–≤–µ—Ç–ª–∞—è –Ω–æ—Ç–∞ –º–æ–µ–≥–æ –¥–Ω—è üéµ",
    "–¢—ã ‚Äî –º–æ–π –Ω–µ–∂–Ω—ã–π –º–∞—è–∫ –≤ –±—É—Ä–µ –∂–∏–∑–Ω–∏ üåä",
    "–¢—ã ‚Äî —à–µ–ø–æ—Ç, —á—Ç–æ –ª–µ—á–∏—Ç –¥—É—à—É üíû",
    "–¢—ã ‚Äî –º–æ—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å –≤ –æ–¥–Ω–æ–º –≤–∑–≥–ª—è–¥–µ üí´",
    "–¢—ã ‚Äî —Å–º—ã—Å–ª, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –Ω–µ–Ω—É–∂–Ω—ã–º üíñ",
    "–¢—ã ‚Äî –º–æ–π –∞–Ω–≥–µ–ª —Å—Ä–µ–¥–∏ –ª—é–¥–µ–π üïäÔ∏è",
    "–¢—ã ‚Äî –¥—ã—Ö–∞–Ω–∏–µ —Å—á–∞—Å—Ç—å—è üíó",
    "–¢—ã ‚Äî –∫–∞–∫ —Å—Ç–∏—Ö, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—Ç—Å—è –ø–µ—Ä–µ—á–∏—Ç—ã–≤–∞—Ç—å üå∏",
    "–¢—ã ‚Äî —É–ª—ã–±–∫–∞, —Å–æ–≥—Ä–µ–≤–∞—é—â–∞—è —Å–µ—Ä–¥—Ü–µ üíû",
    "–¢—ã ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –º–æ–µ–≥–æ –≤–¥–æ—Ö–∞ üí´",
    "–¢—ã ‚Äî –º–µ—á—Ç–∞, –∫ –∫–æ—Ç–æ—Ä–æ–π –≤–µ–¥—É—Ç –≤—Å–µ –ø—É—Ç–∏ üå†",
    "–¢—ã ‚Äî –Ω–µ–∂–Ω–æ—Å—Ç—å, –æ–±–µ—Ä–Ω—É—Ç–∞—è –≤ —Å–≤–µ—Ç üå∑",
    "–¢—ã ‚Äî –º–æ–π —Ä–∞—Å—Å–≤–µ—Ç –∏ –º–æ–π –∑–∞–∫–∞—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ üåÖ",
    "–¢—ã ‚Äî –º–æ–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã üíå",
    "–¢—ã ‚Äî —á—É–¥–æ, –æ –∫–æ—Ç–æ—Ä–æ–º —è –º–æ–ª—á–∞–ª üíñ",
    "–¢—ã ‚Äî –Ω–µ–∂–Ω–æ—Å—Ç—å, —á—Ç–æ –∂–∏–≤—ë—Ç –≤ –∫–∞–∂–¥–æ–º –º–≥–Ω–æ–≤–µ–Ω–∏–∏ üíû",
    "–¢—ã ‚Äî –¥—ã—Ö–∞–Ω–∏–µ –≤–µ—Å–Ω—ã –≤ —Ö–æ–ª–æ–¥–Ω–æ–º –¥–Ω–µ üå∏",
    "–¢—ã ‚Äî —Ç–µ–ø–ª–æ, —Å–ø—Ä—è—Ç–∞–Ω–Ω–æ–µ –≤ –º–æ–∏—Ö –º—ã—Å–ª—è—Ö ‚òÄÔ∏è",
    "–¢—ã ‚Äî –º–æ–π –ª—é–±–∏–º—ã–π —Ö–∞–æ—Å üí´",
    "–¢—ã ‚Äî –ø–æ—Ü–µ–ª—É–π —Å—É–¥—å–±—ã, –æ—Å—Ç–∞–≤—à–∏–π—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞ üíï",
    "–¢—ã ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –∫–∞–ø–ª–∏ –¥–æ–∂–¥—è üåßÔ∏è",
    "–¢—ã ‚Äî –æ–≥–æ–Ω—å, —á—Ç–æ –Ω–µ –æ–±–∂–∏–≥–∞–µ—Ç üî•",
    "–¢—ã ‚Äî —Ç–∞–π–Ω–∞, –∫–æ—Ç–æ—Ä—É—é –Ω–µ —Ö–æ—á—É —Ä–∞–∑–≥–∞–¥–∞—Ç—å üíå",
    "–¢—ã ‚Äî –º–æ—è —Ä–∞–¥–æ—Å—Ç—å –∏ —Å–≤–µ—Ç –≤ —Ç–µ–º–Ω–æ—Ç–µ üåü",
    "–¢—ã ‚Äî –º—è–≥–∫–æ—Å—Ç—å –≤ —ç—Ç–æ–º –∂–µ—Å—Ç–æ–∫–æ–º –º–∏—Ä–µ üíñ",
    "–° —Ç–æ–±–æ–π –∫–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ ‚Äî —á—É–¥–æ üí´",
    "–¢—ã ‚Äî –ª—é–±–æ–≤—å, –∫–æ—Ç–æ—Ä—É—é —Ö–æ—á–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å üíï",
    "–¢—ã ‚Äî –Ω–µ–∂–Ω–æ—Å—Ç—å, —Å–æ–≥—Ä–µ–≤–∞—é—â–∞—è –¥—É—à—É üå∑",
    "–¢—ã ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –º–æ–µ–≥–æ —Å–µ—Ä–¥—Ü–∞ üíó",
    "–¢—ã ‚Äî –º–æ–π —Å–≤–µ—Ç –≤ –∫–æ–Ω—Ü–µ —Ç—É–Ω–Ω–µ–ª—è üåÖ",
    "–¢—ã ‚Äî –º—É–∑—ã–∫–∞ –≤ –º–æ–∏—Ö –º—ã—Å–ª—è—Ö üé∂",
    "–¢—ã ‚Äî —Å—á–∞—Å—Ç—å–µ, —á—Ç–æ —Å—Ç–∞–ª–æ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é üíû",
    "–¢—ã ‚Äî –º–µ—á—Ç–∞, –≤–æ–ø–ª–æ—â—ë–Ω–Ω–∞—è –≤ –∂–∏–∑–Ω—å üå∏",
    "–° —Ç–æ–±–æ–π –º–∏—Ä —Å–≤–µ—Ç–ª–µ–µ –∏ —Ä–∞–¥–æ—Å—Ç–Ω–µ–µ ‚òÄÔ∏è",
    "–¢—ã ‚Äî –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –≥–∞—Ä–º–æ–Ω–∏—è –º–æ–µ–≥–æ —Å–µ—Ä–¥—Ü–∞ üíñ",
]

# -------------------------------
# –ü–æ–¥–ø–∏—Å–∏ –∫ —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–æ–±—â–µ–Ω–∏—è–º
# -------------------------------
SIGNATURES = [
    "–ê–ø–∞—á–∏ —Ç–µ–±—è –ª—é–±–∏—Ç ‚ù§Ô∏è",
    "–¢—ã –≤ —Å–µ—Ä–¥—Ü–µ –ê–ø–∞—á–∏ –Ω–∞–≤—Å–µ–≥–¥–∞ üíó",
    "–ü–æ–ª—é–±–∏ –ê–ø–∞—á–∏, –∫–∞–∫ –æ–Ω —Ç–µ–±—è üåô",
    "–û—Ç –ê–ø–∞—á–∏ —Å —Ç–µ–ø–ª–æ–º üíå",
]

# -------------------------------
# 100 –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—Ä–∞–∑ üò°
# -------------------------------
HARD_NEGATIVE_WORDS = [
    "–¢—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ–Ω–∞–¥—ë–∂–Ω—ã–π –∏ —Ä–∞–∑–¥—Ä–∞–∂–∞—é—â–∏–π —á–µ–ª–æ–≤–µ–∫!",
    "–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ç–µ—Ä–ø–µ—Ç—å —Ç–≤–æ—é –±–µ–∑–¥—É—à–Ω—É—é –±–æ–ª—Ç–æ–≤–Ω—é!",
    "–¢–≤–æ—è –ø—É—Å—Ç–∞—è –±–æ–ª—Ç–æ–≤–Ω—è —É—Ç–æ–º–ª—è–µ—Ç –≤—Å–µ—Ö –≤–æ–∫—Ä—É–≥!",
    "–¢—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–æ–∑–¥–∞—ë—à—å —Ö–∞–æ—Å –∏ —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ!",
    "–¢–≤–æ—ë –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ ‚Äî —ç—Ç–æ –∫–∞–∫ —Å–µ—Ä—ã–π —Ç—É–º–∞–Ω —É–Ω—ã–Ω–∏—è!",
    "–¢—ã ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º –∏ –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ—Å—Ç–µ–π!",
    "–ù–∏–∫–∞–∫–∞—è –ª–æ–≥–∏–∫–∞ –Ω–µ —Å–ø–∞—Å–∞–µ—Ç —Ç–≤–æ—é –±–µ–∑—É–º–Ω—É—é –≥–æ–ª–æ–≤—É!",
    "–¢—ã –±–µ–∑–¥–∞—Ä–Ω–æ —Ç—Ä–∞—Ç–∏—à—å –≤—Ä–µ–º—è –∏ —á—É–∂–∏–µ –Ω–µ—Ä–≤—ã!",
    "–¢–≤–æ–∏ –ø–æ—Å—Ç—É–ø–∫–∏ –≤—ã–∑—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ –∑–ª–æ—Å—Ç—å –∏ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ!",
    "–¢—ã –Ω–µ —Å–ø–æ—Å–æ–±–µ–Ω –Ω–∞ –¥–æ–±—Ä–æ—Ç—É –∏ —á–µ—Å—Ç–Ω–æ—Å—Ç—å!",
    "–¢–≤–æ—è –ª–∂–∏–≤–æ—Å—Ç—å –ø–æ—Ä–∞–∂–∞–µ—Ç –≤—Å–µ—Ö –ø–æ–¥—Ä—è–¥!",
    "–¢—ã –Ω–µ—Å—ë—à—å —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ –∫—É–¥–∞ –±—ã –Ω–∏ –ø–æ—à—ë–ª!",
    "–ù–µ–≤—ã–Ω–æ—Å–∏–º–æ —Å–ª—É—à–∞—Ç—å —Ç–≤–æ—é –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—É—é —Ä–µ—á—å!",
    "–¢—ã ‚Äî –Ω–∞—Å—Ç–æ—è—â–∞—è –≥–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å –¥–ª—è –≤—Å–µ—Ö!",
    "–¢–≤–æ–∏ —Å–ª–æ–≤–∞ —Ç–æ–ª—å–∫–æ —Ä–∞–∑–¥—Ä–∞–∂–∞—é—Ç –∏ –æ—Å–∫–æ—Ä–±–ª—è—é—Ç!",
    "–¢—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–æ–∑–¥–∞—ë—à—å –¥—Ä–∞–º—É –∏ –Ω–µ–≥–∞—Ç–∏–≤!",
    "–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å —Ç–≤–æ—é –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É!",
    "–¢—ã –∫–∞–∫ —á—ë—Ä–Ω–∞—è –¥—ã—Ä–∞ –¥–ª—è —Å—á–∞—Å—Ç—å—è –¥—Ä—É–≥–∏—Ö!",
    "–¢–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–∑—Ä—É—à–∞—é—Ç –≤—Å—ë –≤–æ–∫—Ä—É–≥!",
    "–¢—ã ‚Äî –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ —Ö–∞–æ—Å–∞ –∏ –±–µ–∑—Ä–∞–∑–ª–∏—á–∏—è!",
    "–¢—ã ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ —Ñ—Ä—É—Å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞–∫–æ–º—ã—Ö!",
    "–¢–≤–æ—ë –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ—Ä—Ç–∏—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ–∫—Ä—É–∂–∞—é—â–∏–º!",
    "–¢—ã —Å–ª–æ–≤–Ω–æ –º–∞–≥–Ω–∏—Ç –¥–ª—è –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ—Å—Ç–µ–π –∏ –ø—Ä–æ–±–ª–µ–º!",
    "–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ç–µ—Ä–ø–µ—Ç—å —Ç–≤–æ—é —Å–∞–º–æ–≤–ª—é–±–ª—ë–Ω–Ω–æ—Å—Ç—å!",
    "–¢–≤–æ—è –∂–∞–¥–Ω–æ—Å—Ç—å –∏ —ç–≥–æ–∏–∑–º –ø–æ—Ä–∞–∂–∞—é—Ç –≤—Å–µ—Ö!",
    "–¢—ã ‚Äî –ø—Ä–∏—á–∏–Ω–∞ –≤—Å–µ—Ö —Å—Å–æ—Ä –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤!",
    "–¢–≤–æ–∏ —Å–ª–æ–≤–∞ —Ä–∞–Ω—è—Ç –±–æ–ª—å—à–µ, —á–µ–º –¥–µ–π—Å—Ç–≤–∏—è!",
    "–¢—ã —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—ë—à—å —Å—Ç—Ä–µ—Å—Å –∏ —Ç—Ä–µ–≤–æ–≥—É!",
    "–¢–≤–æ—è –≥–ª—É–ø–æ—Å—Ç—å –ø–æ—Ä–∞–∂–∞–µ—Ç –≤–æ–æ–±—Ä–∞–∂–µ–Ω–∏–µ!",
    "–¢—ã ‚Äî –ø–æ–ª–Ω–æ–µ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Å–µ—Ö —Å–º—ã—Å–ª–∞—Ö!",
    "–¢–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤—ã–∑—ã–≤–∞—é—Ç —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ!",
    "–¢—ã —Ä–∞–∑—Ä—É—à–∏—Ç–µ–ª—å –≤—Å–µ–≥–æ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ –≤–æ–∫—Ä—É–≥!",
    "–¢—ã –±–µ–∑–¥–∞—Ä–Ω–æ —Ç—Ä–∞—Ç–∏—à—å —á—É–∂–æ–µ –≤—Ä–µ–º—è!",
    "–ù–µ–≤—ã–Ω–æ—Å–∏–º–æ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π!",
    "–¢—ã –∫–∞–∫ —á—É–º–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π!",
    "–¢—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ—à—å —Ä–∞–¥–æ—Å—Ç—å –≤ —Å–∫—É–∫—É –∏ –≥—Ä—É—Å—Ç—å!",
    "–¢–≤–æ—è –±–µ–∑–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–æ—Ä–∞–∂–∞–µ—Ç –≤—Å–µ—Ö!",
    "–¢—ã ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Ö–∞–æ—Å–∞!",
    "–¢–≤–æ—è –ª–µ–Ω—å –∏ —Ä–∞–≤–Ω–æ–¥—É—à–∏–µ —Ä–∞–∑–¥—Ä–∞–∂–∞—é—Ç!",
    "–¢—ã ‚Äî –ø—Ä–∏—á–∏–Ω–∞ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ –∫–æ–º–∞–Ω–¥—ã!",
    "–¢–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è –ª–∏—à–µ–Ω—ã —Å–º—ã—Å–ª–∞ –∏ –ª–æ–≥–∏–∫–∏!",
    "–¢—ã ‚Äî —Ç–æ–∫—Å–∏—á–Ω–∞—è –ª–∏—á–Ω–æ—Å—Ç—å –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞–∫–æ–º—ã—Ö!",
    "–¢–≤–æ–∏ —à—É—Ç–∫–∏ –Ω–µ–ø—Ä–∏—è—Ç–Ω—ã –∏ –æ—Å–∫–æ—Ä–±–∏—Ç–µ–ª—å–Ω—ã!",
    "–¢—ã ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è –≤—Å–µ—Ö —Ä—è–¥–æ–º!",
    "–¢—ã ‚Äî —á—ë—Ä–Ω–∞—è —Ç–µ–Ω—å –≤ –∂–∏–∑–Ω–∏ –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞!",
    "–ù–µ–≤—ã–Ω–æ—Å–∏–º–æ –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ —Ç–≤–æ–µ–π —ç–≥–æ–∏—Å—Ç–∏—á–Ω–æ–π –Ω–∞—Ç—É—Ä–æ–π!",
    "–¢—ã ‚Äî –ø—Ä–∏–º–µ—Ä –Ω–µ—É–¥–∞—á –∏ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–π!",
    "–¢–≤–æ—ë –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—Ç—Ç–æ—Ä–∂–µ–Ω–∏–µ!",
    "–¢—ã ‚Äî –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –±–µ—Å–ø–æ—Ä—è–¥–∫–∞ –∏ —Ö–∞–æ—Å–∞!",
    "–¢—ã ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –≤—Å–µ—Ö —Ç—Ä–µ–≤–æ–≥ –∏ —Å—Ç—Ä–∞—Ö–æ–≤!",
    "–¢–≤–æ–∏ —Å–ª–æ–≤–∞ –±–µ–∑–¥—É—à–Ω—ã –∏ –ø—É—Å—Ç—ã!",
    "–¢—ã —Ä–∞–∑—Ä—É—à–∏—Ç–µ–ª—å —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è –∏ –≥–∞—Ä–º–æ–Ω–∏–∏!",
    "–¢—ã ‚Äî –º–∞–≥–Ω–∏—Ç –¥–ª—è –Ω–µ–ø—Ä–∏—è—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π!",
    "–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ç–µ—Ä–ø–µ—Ç—å —Ç–≤–æ—é –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ—Å—Ç—å!",
    "–¢—ã ‚Äî —É–≥—Ä–æ–∑–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é –≤—Å–µ—Ö –≤–æ–∫—Ä—É–≥!",
    "–¢–≤–æ–∏ –ø–æ—Å—Ç—É–ø–∫–∏ –≤—ã–∑—ã–≤–∞—é—Ç –æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ!",
    "–¢—ã ‚Äî –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ—Å—Ç–∏ –∏ —Ö–∞–æ—Å–∞!",
    "–¢—ã —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—à—å –≤—Å–µ—Ö —Å–≤–æ–µ–π –±–µ–∑–¥–∞—Ä–Ω–æ—Å—Ç—å—é!",
    "–¢–≤–æ—è —ç–≥–æ–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å –Ω–µ –∏–º–µ–µ—Ç –≥—Ä–∞–Ω–∏—Ü!",
    "–¢—ã ‚Äî –ø—Ä–∏–º–µ—Ä –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞!",
    "–¢–≤–æ—è –∑–ª–æ—Å—Ç—å –∑–∞—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–∞ –∏ –Ω–µ–ø—Ä–∏—è—Ç–Ω–∞!",
    "–¢—ã ‚Äî —Ä–∞–∑—Ä—É—à–∏—Ç–µ–ª—å –¥—Ä—É–∂–±—ã –∏ –¥–æ–≤–µ—Ä–∏—è!",
    "–¢—ã ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤!",
    "–¢–≤–æ—è –≥–ª—É–ø–æ—Å—Ç—å –ø–æ—Ä–∞–∂–∞–µ—Ç –≤—Å–µ—Ö –≤–æ–∫—Ä—É–≥!",
    "–¢—ã ‚Äî –æ–±—Ä–∞–∑–µ—Ü –ø–ª–æ—Ö–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è!",
    "–¢–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–∑—Ä—É—à–∞—é—Ç –≤—Å—ë —Ö–æ—Ä–æ—à–µ–µ!",
    "–¢—ã ‚Äî —É–≥–Ω–µ—Ç–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞–∫–æ–º—ã—Ö!",
    "–¢—ã ‚Äî –Ω–µ–ø—Ä–∏—è–∑–Ω—å –≤ —á–∏—Å—Ç–æ–º –≤–∏–¥–µ!",
    "–¢—ã ‚Äî —Ç–æ–∫—Å–∏–Ω –¥–ª—è –ª—é–±–æ–π –∫–æ–º–ø–∞–Ω–∏–∏!",
    "–¢—ã ‚Äî –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ—Å—Ç–µ–π –∏ –±–µ–¥!",
]

# -------------------------------
# –ú–∏–Ω–∏-–≤–µ–±-—Å–µ—Ä–≤–µ—Ä
# -------------------------------
def run_web():
    class Handler(BaseHTTPRequestHandler):
        def do_GET(self):
            self.send_response(200)
            self.end_headers()
            self.wfile.write(b"LoveBot is running <3")
    port = int(os.environ.get("PORT", 10000))
    HTTPServer(("0.0.0.0", port), Handler).serve_forever()

threading.Thread(target=run_web, daemon=True).start()

# -------------------------------
# –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
# -------------------------------
last_messages = {}

# -------------------------------
# –ö–æ–º–∞–Ω–¥—ã
# -------------------------------
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "üíû –ü—Ä–∏–≤–µ—Ç! –Ø LoveBot by Apachi.\n"
        "–Ø –æ—Ç–≤–µ—á–∞—é –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π üíå\n"
        "–ö–æ–º–∞–Ω–¥–æ–π /love –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å!"
    )

async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    message = update.message
    if not message or not message.from_user:
        return
    username = message.from_user.username
    phrase = None
    if message.chat.type in ["group", "supergroup"]:
        if username in TARGET_USERNAMES and random.random() < 0.3:
            while True:
                phrase = random.choice(LOVE_PHRASES)
                if last_messages.get(username) != phrase:
                    last_messages[username] = phrase
                    break
        elif username in NEGATIVE_USERNAMES and random.random() < 0.3:
            while True:
                phrase = random.choice(HARD_NEGATIVE_WORDS)
                if last_messages.get(username) != phrase:
                    last_messages[username] = phrase
                    break
        if phrase:
            response = phrase
            if username in TARGET_USERNAMES and random.random() < 0.3:
                response += f"\n\n{random.choice(SIGNATURES)}"
            await message.reply_text(response, reply_to_message_id=message.message_id)

async def love_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    message = update.message
    if not message or not message.text:
        return
    args = message.text.split(maxsplit=1)
    target = args[1] if len(args) > 1 else message.from_user.username
    score = random.randint(50, 100)
    await message.reply_text(f"üíû –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å {target}: {score}%")

# -------------------------------
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
# -------------------------------
async def main():
    token = os.environ.get("TELEGRAM_TOKEN")
    if not token:
        print("‚ùå –û—à–∏–±–∫–∞: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è TELEGRAM_TOKEN")
        return
    app = ApplicationBuilder().token(token).build()
    app.add_handler(CommandHandler("start", start))
    app.add_handler(CommandHandler("love", love_command))
    app.add_handler(MessageHandler(filters.TEXT & (~filters.COMMAND), handle_message))
    await app.run_polling()

if __name__ == "__main__":
    import asyncio
    asyncio.run(main())
